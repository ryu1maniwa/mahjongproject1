{% extends 'base.html' %}

{% block content %}
<div class = 'container'>
    <p><a href="{% url 'top' %}" class="btn-lg btn-light" tabindex="-1" role="button" aria-disabled="true">戻る</a></p>
    {{ request.user.username }} のスコア表
        <table border="1">
            <thead>
                {% for item in players %}
                <tr>
                    <th width="70">{{ item.player1 }}</th>
                    <th width="70">{{ item.player2 }}</th>
                    <th width="70">{{ item.player3 }}</th>
                    <th width="70">{{ item.player4 }}</th>
                </tr>
                {% endfor %}
            </thead>
            <tfoot>
                <tr>
                    <td bgcolor="#CCCCCC" align="right">{{ sum_player1.calculatedscore1__sum }}</th>
                    <td bgcolor="#CCCCCC" align="right">{{ sum_player2.calculatedscore2__sum }}</th>
                    <td bgcolor="#CCCCCC" align="right">{{ sum_player3.calculatedscore3__sum }}</th>
                    <td bgcolor="#CCCCCC" align="right">{{ sum_player4.calculatedscore4__sum }}</th>
                    <th bgcolor="#CCCCCC" align="right">合計</th>
                </tr>
            </tfoot>
            <tbody>
                    {% for item in object_list %}
                    <tr>
                        <td align="right">{{ item.calculatedscore1 }}</td>
                        <td align="right">{{ item.calculatedscore2 }}</td>
                        <td align="right">{{ item.calculatedscore3 }}</td>
                        <td align="right">{{ item.calculatedscore4 }}</td>
                        <td><a href="{% url 'update' item.pk %}" class="btn-light" tabindex="-1" role="button" aria-disabled="true">編集</a></td>
                        <td><a href="{% url 'delete' item.pk %}" class="btn-light" tabindex="-1" role="button" aria-disabled="true">削除</a></td>
                    </tr>
                    {% endfor %}
                
            </tbody>
        </table>
    <p></p>
    <p><a href="{% url 'create' %}" class="btn-lg btn-light" tabindex="-1" role="button" aria-disabled="true">得点・順位の新規登録</a></p>
    <p><a href="{% url 'confirm_scores_delete' %}" class="btn-lg btn-light" tabindex="-1" role="button" aria-disabled="true">スコアをリセットする</a></p>
    <h5>スコアは、得点・順位登録時のウマ・オカの設定が反映されています。</h5>
    <h6>端数の処理は五捨六入を使っています。</h6>
</div>
{% endblock content %}
